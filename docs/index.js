(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function v(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Jt(t){return t!=null&&typeof t.GetEnumerator=="function"}function Zt(t){return t!=null&&typeof t.CompareTo=="function"}function Qt(t){return t!=null&&typeof t.Equals=="function"}function xt(t){return t!=null&&typeof t.GetHashCode=="function"}function te(t){return t!=null&&typeof t.Dispose=="function"}function Y(t){te(t)&&t.Dispose()}function V(){return null}function Ft(t,e){var n,r;return((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(e))==null?void 0:r.constructor)}class ee{constructor(e){this.iter=e,this.current=V()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function I(t){return Jt(t)?t.GetEnumerator():new ee(t[Symbol.iterator]())}function Rt(t){return{next(){const e=t["System.Collections.IEnumerator.MoveNext"](),n=e?t["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!e,value:n}}}}function Et(t,e){return t.toString(10).padStart(e,"0")}function bt(t){const e=t;return typeof e.offset=="number"?e.offset:t.kind===1?0:t.getTimezoneOffset()*-6e4}class O{static id(e){return O.idMap.has(e)||O.idMap.set(e,++O.count),O.idMap.get(e)}}O.idMap=new WeakMap;O.count=0;function Tt(t){let e=0,n=5381;const r=t.length;for(;e<r;)n=n*33^t.charCodeAt(e++);return n}function Ct(t){return t*2654435761|0}function ne(t){return Tt(t.toString(32))}function dt(t){let e=0;const n=t.length;for(let r=0;r<n;r++){const o=t[r];e=(e<<5)+e^o}return e}function re(t){return t.getTime()}function oe(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=D(t[r]);return dt(n)}function D(t){var e;if(t==null)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return Ct(t);case"bigint":return ne(t);case"string":return Tt(t);default:{if(xt(t))return t.GetHashCode();if(v(t))return oe(t);if(t instanceof Date)return re(t);if(((e=Object.getPrototypeOf(t))==null?void 0:e.constructor)===Object){const n=Object.values(t).map(r=>D(r));return dt(n)}else return Ct(O.id(t))}}}function ie(t,e,n){if(t==null)return e==null;if(e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function se(t,e){return ie(t,e,H)}function ue(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!H(t[n[o]],e[r[o]]))return!1;return!0}function H(t,e){var n;return t===e?!0:t==null?e==null:e==null?!1:Qt(t)?t.Equals(e):v(t)?v(e)&&se(t,e):typeof t!="object"?!1:t instanceof Date?e instanceof Date&&jt(t,e)===0:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object&&ue(t,e)}function jt(t,e){let n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+bt(t),r=e.getTime()+bt(e)),n===r?0:n<r?-1:1}function le(t,e,n){if(t==null)return e==null?0:1;if(e==null)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(let r=0,o=0;r<t.length;r++)if(o=n(t[r],e[r]),o!==0)return o;return 0}function ce(t,e){return le(t,e,X)}function ae(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,i=0;o<n.length;o++){const s=n[o];if(s!==r[o])return s<r[o]?-1:1;if(i=X(t[s],e[s]),i!==0)return i}return 0}function X(t,e){var n;return t===e?0:t==null?e==null?0:-1:e==null?1:Zt(t)?t.CompareTo(e):v(t)?v(e)?ce(t,e):-1:typeof t!="object"?t<e?-1:1:t instanceof Date?e instanceof Date?jt(t,e):-1:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object?ae(t,e):-1}function fe(t){let e=t;return(...n)=>{if(n.length===0)return e;e=n[0]}}function he(t){let e=0,n="[";for(const r of t){if(e===0)n+=M(r);else if(e===100){n+="; ...";break}else n+="; "+M(r);e++}return n+"]"}function M(t,e=0){var n;if(t!=null&&typeof t=="object"){if(typeof t.toString=="function")return t.toString();if(Symbol.iterator in t)return he(t);{const r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor;return r===Object&&e<10?"{ "+Object.entries(t).map(([o,i])=>o+" = "+M(i,e+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(t)}function me(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}function de(t){return"{ "+Object.entries(t).map(([e,n])=>e+" = "+M(n)).join(`
  `)+" }"}function ge(t){const e=Object.values(t).map(n=>D(n));return dt(e)}function pe(t,e){if(t===e)return!0;if(Ft(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++)if(!H(t[n[r]],e[n[r]]))return!1;return!0}else return!1}function _e(t,e){if(t===e)return 0;if(Ft(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++){const o=X(t[n[r]],e[n[r]]);if(o!==0)return o}return 0}else return-1}class U{toJSON(){return me(this)}toString(){return de(this)}GetHashCode(){return ge(this)}Equals(e){return pe(this,e)}CompareTo(e){return _e(this,e)}}const R=Symbol("numeric");function ye(t){return typeof t=="number"||typeof t=="bigint"||(t==null?void 0:t[R])}function we(t,e){return typeof t=="number"||typeof t=="bigint"?t<e?-1:t>e?1:0:t.CompareTo(e)}function Se(t,e){return typeof t=="number"?t*e:typeof t=="bigint"?t*BigInt(e):t[R]().multiply(e)}function Ee(t,e){return typeof t=="number"?t.toFixed(e):typeof t=="bigint"?t:t[R]().toFixed(e)}function It(t,e){return typeof t=="number"?t.toPrecision(e):typeof t=="bigint"?t:t[R]().toPrecision(e)}function At(t,e){return typeof t=="number"?t.toExponential(e):typeof t=="bigint"?t:t[R]().toExponential(e)}function Ot(t){return typeof t=="number"?(Number(t)>>>0).toString(16):typeof t=="bigint"?BigInt.asUintN(64,t).toString(16):t[R]().toHex()}class h extends U{constructor(e,n){super(),this.X=e,this.Y=n}}function P(){return new h(0,0)}function be(t){return Math.sqrt(t.X*t.X+t.Y*t.Y)}function _(t,e){return new h(t,e)}function Bt(t,e){return t>e?t:e}function Ce(t,e){return t<e?t:e}class qt extends U{constructor(e,n){super(),this.Center=e,this.Size=n}}function ft(t){const e=t.Center;let n;const r=t.Size;return n=new h(r.X/2,r.Y/2),new h(e.X-n.X,e.Y-n.Y)}function Nt(t){const e=t.Center;let n;const r=t.Size;return n=new h(r.X/2,r.Y/2),new h(e.X+n.X,e.Y+n.Y)}function Ie(t,e){return new qt(t,e)}function Dt(t,e){return new Array(e)}class G{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return D(this.value)}Equals(e){return e==null?!1:H(this.value,e instanceof G?e.value:e)}CompareTo(e){return e==null?1:X(this.value,e instanceof G?e.value:e)}}function d(t){if(t==null)throw new Error("Option has no value");return t instanceof G?t.value:t}function gt(t){return t==null||t instanceof G?new G(t):t}const Ht="Collection was empty.";function k(t,e,n,r){const o=e|0;return t.fill(r,o,o+n)}function Ae(t,e,n){const r=e.length|0,o=Dt(n,r);for(let i=0;i<=r-1;i++)C(o,i,t(m(i,e)));return o}function Oe(t,e,n,r){if(e.length!==n.length)throw new Error("Arrays had different lengths");const o=Dt(r,e.length);for(let i=0;i<=e.length-1;i++)C(o,i,t(m(i,e),m(i,n)));return o}function m(t,e){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return e[t]}function C(t,e,n){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");t[e]=n}class pt extends U{constructor(e,n){super(),this.Particles=e,this.Block=n}}function Ne(t,e){return new pt(t,e)}function ke(t,e){const n=Bt(1-e,0);return[.5*t*n*n,-1*n]}function kt(t,e,n,r){const o=(r-t)/e,i=n*Math.exp(-(o*o));return[i,-2*o*i/e]}const ve=4,Xe=1,Ye=.022,Me=.6,Pe=.15,Lt=1,Ge=.05;function Fe(t){let e,n,r,o,i,s,u,l,c,a,f,w,J;const L=t.length|0;let Z;const Q=L|0,wt=k(new Array(Q),0,Q,null);for(let b=0;b<=Q-1;b++)C(wt,b,(e=b|0,n=L-e|0,r=k(new Array(n),0,n,null),(()=>{let g,S,E,y,N,A,tt,et,nt,rt,ot,it,st;for(let $=0;$<=n-1;$++)C(r,$,(g=(S=m(e,t),E=m($+e,t),new h(S.X-E.X,S.Y-E.Y)),y=be(g)+1e-20,N=(A=g,tt=y,new h(A.X/tt,A.Y/tt)),et=ke(Lt,y),nt=kt(ve,Xe,Ye,y),{K:nt[0],R:et[0],dK:(rt=nt[1],ot=N,new h(rt*ot.X,rt*ot.Y)),dR:(it=et[1],st=N,new h(it*st.X,it*st.Y))}))})(),r));Z=wt;const x=L|0,St=k(new Array(x),0,x,null);for(let b=0;b<=x-1;b++)C(St,b,(o=(i=L|0,s=(u=b|0,g=>{let S,E;if(u<=g)return m(g-u,m(u,Z));{const y=m(u-g,m(g,Z));return{K:y.K,R:y.R,dK:(S=y.dK,new h(-S.X,-S.Y)),dR:(E=y.dR,new h(-E.X,-E.Y))}}}),l=k(new Array(i),0,i,null),(()=>{for(let g=0;g<=i-1;g++)C(l,g,s(g))})(),l),c=P(),a=0,f=P(),w=0,(()=>{let g,S,E,y;for(let N=0;N<=o.length-1;N++){const A=m(N,o);c=(g=c,S=A.dR,new h(g.X+S.X,g.Y+S.Y)),a=a+A.R,f=(E=f,y=A.dK,new h(E.X+y.X,E.Y+y.Y)),w=w+A.K}})(),J=kt(Me,Pe,1,w),{G:J[0],R_grad:c,R_val:a,U_grad:f,U_val:w,dG:J[1]}));return St}function Re(t,e){const n=e.X-ft(t).X,r=Nt(t).X-e.X,o=e.Y-ft(t).Y,i=Nt(t).Y-e.Y;if(n>0&&r>0&&o>0&&i>0){const s=n<r?-n:r,u=o<i?-o:i,l=Math.abs(s)<Math.abs(u)?[s,0]:[0,u],c=e,a=_(.1*l[0],.1*l[1]);return new h(c.X+a.X,c.Y+a.Y)}else return e}function Te(t){const e=Fe(t.Particles);return[new pt(Ae(n=>Re(t.Block,n),Oe((n,r)=>{const o=n;let i;const s=Ge;let u,l;const c=r.dG,a=r.U_grad;l=new h(c*a.X,c*a.Y);const f=r.R_grad;return u=new h(l.X-f.X,l.Y-f.Y),i=new h(s*u.X,s*u.Y),new h(o.X+i.X,o.Y+i.Y)},t.Particles,e)),t.Block),e]}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function je(t,e){return t<e?-1:t>e?1:0}function Be(t,e){return t+e}function ut(t){return BigInt(t)}function qe(t){return BigInt(Math.trunc(t))}function De(t){return Number(BigInt.asIntN(32,t))}function T(t){return BigInt.asIntN(64,t)}function vt(t){return Number(t)}function He(t){const e=t<0;t=Math.abs(t);const n=~~(t/36e5),r=t%36e5/6e4;return(e?"-":"+")+Et(n,2)+":"+Et(r,2)}function Le(t,e){return new Date(t.getTime()+(t.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+He(t.offset??0)}function $e(t,e){return t.kind===1?t.toUTCString():t.toLocaleString()}function We(t,e,n){return t.offset!=null?Le(t):$e(t)}function Ke(t,e){const n=new Date(t);return n.kind=e|0,n}function Ve(){return Ke(Date.now(),2)}function ze(t){return t.kind===1?t.getUTCMilliseconds():t.getMilliseconds()}const j=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g;function Ue(t,e){return we(t,e)<0}function Je(t,e){let n=0,r=0,o="";j.lastIndex=0;let i=j.exec(t);for(;i;){const s=i.index+(i[1]||"").length;o+=t.substring(r,s).replace(/%%/g,"%");const[,,u,l,c,a]=i;r=j.lastIndex,o+=xe(e[n++],u,l,c,a),j.lastIndex=r-1,i=j.exec(t)}return o+=t.substring(r).replace(/%%/g,"%"),o}function Ze(t,e){return typeof e=="string"?t(e):e.cont(t)}function Qe(t){return Ze(e=>e,t)}function xe(t,e,n,r,o){let i="";if(e=e||"",o=o||"",ye(t))switch(o.toLowerCase()!=="x"&&(Ue(t,0)?(t=Se(t,-1),i="-"):e.indexOf(" ")>=0?i=" ":e.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,t=Ee(t,r);break;case"g":case"G":t=r!=null?It(t,r):It(t);break;case"e":case"E":t=r!=null?At(t,r):At(t);break;case"x":t=Ot(t);break;case"X":t=Ot(t).toUpperCase();break;default:t=String(t);break}else t instanceof Date?t=We(t):t=M(t);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))t=i+t;else{const s=e.indexOf("0")>=0,u=e.indexOf("-")>=0,l=u||!s?" ":"0";l==="0"?(t=Xt(t,n-i.length,l,u),t=i+t):t=Xt(i+t,n,l,u)}return t}function tn(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function Xt(t,e,n,r){n=n||" ",e=e-t.length;for(let o=0;o<e;o++)t=r?t+n:n+t;return t}function en(t){throw new Error(t)}class F extends U{constructor(e,n){super(),this.head=e,this.tail=n}toString(){return"["+tn("; ",this)+"]"}Equals(e){const n=this;return n===e?!0:((o,i)=>{t:for(;;){const s=o,u=i,l=s.tail,c=u.tail;if(l!=null)if(c!=null){const a=d(l),f=d(c);if(H(s.head,u.head)){o=a,i=f;continue t}else return!1}else return!1;else return c==null}})(n,e)}GetHashCode(){return((r,o,i)=>{t:for(;;){const s=r,u=o,l=i,c=l.tail;if(c!=null){const a=d(c);if(s>18)return u|0;r=s+1,o=(u<<1)+D(l.head)+631*s,i=a;continue t}else return u|0}})(0,0,this)|0}toJSON(){const e=this;return Array.from(e)}CompareTo(e){return((o,i)=>{t:for(;;){const s=o,u=i,l=s.tail,c=u.tail;if(l!=null)if(c!=null){const a=d(l),f=d(c),w=X(s.head,u.head)|0;if(w===0){o=a,i=f;continue t}else return w|0}else return 1;else return c!=null?-1:0}})(this,e)|0}GetEnumerator(){return rn(this)}[Symbol.iterator](){return Rt(I(this))}"System.Collections.IEnumerable.GetEnumerator"(){return I(this)}}class nn{constructor(e){this.xs=e,this.it=this.xs,this.current=V()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this,n=e.it.tail;if(n!=null){const r=d(n);return e.current=e.it.head,e.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const e=this;e.it=e.xs,e.current=V()}Dispose(){}}function rn(t){return new nn(t)}function ht(){return new F(V(),void 0)}function on(t,e){return new F(t,e)}function sn(t){return t.tail==null}function un(t){return((n,r)=>{t:for(;;){const o=n,s=r.tail;if(s!=null){n=o+1,r=d(s);continue t}else return o|0}})(0,t)|0}function ln(t){if(t.tail!=null)return t.head;throw new Error(Ht+"\\nParameter name: list")}function $t(t){const e=t.tail;if(e!=null)return d(e);throw new Error(Ht+"\\nParameter name: list")}function cn(t){const e=un(t)|0,n=k(new Array(e),0,e,null);return((o,i)=>{t:for(;;){const s=o,u=i;if(!sn(u)){C(n,s,ln(u)),o=s+1,i=$t(u);continue t}break}})(0,t),n}function an(t,e){let n=e;for(let r=t.length-1;r>=0;r--)n=on(m(r,t),n);return n}function Wt(t){return an(t,ht())}function fn(t){let e,n;if(v(t))return Wt(t);if(t instanceof F)return t;{const r=ht();let o=r;const i=I(t);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const l=i["System.Collections.Generic.IEnumerator`1.get_Current"]();o=(e=o,n=new F(l,void 0),e.tail=n,n)}}finally{Y(i)}const s=o,u=ht();return s.tail=u,$t(r)}}const hn="Enumeration already finished.",mn="Enumeration has not started. Call MoveNext.",dn="Reset is not supported on this enumerator.";function gn(){throw new Error(dn)}function Kt(){throw new Error(mn)}function Yt(){throw new Error(hn)}class pn{constructor(e){this.f=e}toString(){const e=this;let n=0,r="seq [";const o=I(e);try{for(;n<4&&o["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+M(o["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{Y(o)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Rt(I(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function _n(t){return new pn(t)}class yn{constructor(e,n,r){this.current=e,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){gn()}Dispose(){this.dispose()}}function Vt(t,e,n){return new yn(t,e,n)}function wn(t){let e,n,r=!1,o=!1,i;const s=()=>{if(o=!0,n!=null){const u=d(n);try{Y(u)}finally{n=void 0}}if(e!=null){const u=d(e);try{Y(u)}finally{e=void 0}}};return Vt(()=>(r?o&&Yt():Kt(),i!=null?d(i):Yt()),()=>{let u;if(r||(r=!0),o)return!1;{let l;for(;l==null;){const c=e,a=n;if(c!=null)if(a!=null){const f=d(a);if(f["System.Collections.IEnumerator.MoveNext"]())i=gt(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{Y(f)}finally{n=void 0}}else{const f=d(c);f["System.Collections.IEnumerator.MoveNext"]()?n=(u=f["System.Collections.Generic.IEnumerator`1.get_Current"](),I(u)):(s(),l=!1)}else e=I(t)}return d(l)}},()=>{o||s()})}function Sn(t,e){let n,r=e;return Vt(()=>{if(n!=null){const o=d(n)[0];return d(n)[1],o}else return Kt()},()=>(n=t(r),n!=null?(d(n)[0],r=d(n)[1],!0):!1),()=>{})}function En(t,e){e==null&&en(t)}function _t(t){return _n(t)}function bn(t){return En("source",t),I(t)}function B(t){return _t(()=>I(t()))}function Cn(t){return _t(()=>wn(t))}function In(t,e){return _t(()=>Sn(t,e))}function An(t){return t instanceof F?cn(t):Array.from(t)}function On(t){return v(t)?Wt(t):t instanceof F?t:fn(t)}function lt(t,e){return Cn([t,e])}function Nn(t,e,n){const r=bn(n);try{let o=e;for(;r["System.Collections.IEnumerator.MoveNext"]();)o=t(o,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return o}finally{Y(r)}}function kn(t,e,n,r){const o=X(t,n)|0;if(o===0)throw new Error("The step of a range cannot be zero");const i=o>0;return s=>{const u=X(s,e)|0;return i&&u<=0||!i&&u>=0?[s,r(s,t)]:void 0}}function vn(t,e,n,r,o){const i=kn(e,n,r,o);return B(()=>In(i,t))}function Xn(t,e,n){return vn(t,e,n,0,(r,o)=>r+o)}class Yn{constructor(e){this.MBIG=2147483647,this.inext=0,this.inextp=0,this.seedArray=k(new Array(56),0,56,0);let n=0,r=0,o=0;r=161803398-((e===-2147483648?2147483647:Math.abs(e))|0)|0,this.seedArray[55]=r|0,o=1;for(let s=1;s<=54;s++)n=21*s%55|0,this.seedArray[n]=o|0,o=r-o|0,o<0&&(o=o+this.MBIG|0),r=m(n,this.seedArray)|0;for(let s=1;s<=4;s++)for(let u=1;u<=55;u++)this.seedArray[u]=m(u,this.seedArray)-m(1+(u+30)%55,this.seedArray)|0,m(u,this.seedArray)<0&&(this.seedArray[u]=m(u,this.seedArray)+this.MBIG|0);this.inext=0,this.inextp=21}Next0(){return q(this)|0}Next1(e){const n=this;if(e<0)throw new Error("maxValue must be positive");return~~(ct(n)*e)|0}Next2(e,n){const r=this;if(e>n)throw new Error("minValue must be less than maxValue");const o=T(ut(n-e));return(je(o,T(ut(2147483647)))<=0?~~(ct(r)*vt(o))+e:~~De(T(Be(T(qe(Pn(r)*vt(o))),T(ut(e))))))|0}NextDouble(){return ct(this)}NextBytes(e){const n=this;if(e==null)throw new Error("buffer");for(let r=0;r<=e.length-1;r++)C(e,r,q(n)%256&255)}}function Mn(t){return new Yn(t)}function q(t){let e=0,n=t.inext,r=t.inextp;return n=n+1|0,n>=56&&(n=1),r=r+1|0,r>=56&&(r=1),e=m(n,t.seedArray)-m(r,t.seedArray)|0,e===t.MBIG&&(e=e-1|0),e<0&&(e=e+t.MBIG|0),t.seedArray[n]=e|0,t.inext=n|0,t.inextp=r|0,e|0}function ct(t){return q(t)*(1/t.MBIG)}function Pn(t){let e=q(t);q(t)%2===0&&(e=-e);let n=e;return n=n+2147483646,n=n/(2*2147483646),n}function Gn(t){return Mn(t)}const zt=[1200,800],K=zt[0],mt=zt[1],yt=document.getElementById("canvas");yt.width=K;yt.height=mt;const p=yt.getContext("2d");p.lineWidth=.05;const Mt=.1;let z=fe(P());window.onkeydown=t=>{let e;z((e=t.key,e==="ArrowUp"?_(0,-.1):e==="ArrowDown"?_(0,Mt):e==="ArrowLeft"?_(-.1,0):e==="ArrowRight"?_(Mt,0):z()))};window.onkeyup=t=>{z(P())};const Fn=5,Ut=40,Rn=5,Tn=2*3.141592653589793,at=-.5,Pt=.8;function jn(t){return`hsl(${300*((Ce(Bt(t,at),Pt)+at)/(Pt-at))+60}, 100%, 50%)`}function Bn(t){let e,n,r;const o=[new pt(t.Particles,new qt((e=t.Block.Center,n=z(),new h(e.X+n.X,e.Y+n.Y)),t.Block.Size)),new Array(0)];r=Nn((c,a)=>Te(c[0]),[o[0],o[1]],On(Xn(1,1,Fn)));const i=r[0];p.clearRect(0,0,K,mt),p.translate(K/2,mt/2);const s=K/Ut;p.scale(s,s),p.beginPath();const u=ft(i.Block),l=i.Block.Size;p.rect(u.X,u.Y,l.X,l.Y),p.fillStyle="black",p.fill();for(let c=0;c<=i.Particles.length-1;c++){p.beginPath();const a=m(c,i.Particles),f=m(c,r[1]),w=Lt/(f.R_val*Rn);p.arc(a.X,a.Y,w,0,Tn),p.fillStyle=jn(f.R_val-f.G),p.fill(),p.stroke()}return p.setTransform(1,0,0,1,0,0),i}function qn(t){const e=(n,r,o)=>{window.requestAnimationFrame(i=>{e(n+1,n%100===0?(console.log(gt(Qe(Je("%.3f%P() frames/sec",[1e5/(i-r)])))),i):r,Bn(o))})};e(1,0,t)}const Gt=(()=>{const t=ze(Ve())|0;return console.log(gt(`Random seed: ${t}`)),Gn(t)})();function W(t,e,n){const r=t|0,o=k(new Array(r),0,r,P());for(let i=0;i<=r-1;i++)C(o,i,new h(Gt.NextDouble()*e.X+n.X,Gt.NextDouble()*e.Y+n.Y));return o}const Dn=An(B(()=>lt(W(50,_(8,8),_(3.5,2.5)),B(()=>lt(W(50,_(-8,8),_(-3.5,2.5)),B(()=>lt(W(50,_(8,-8),_(3.5,-2.5)),B(()=>W(50,_(-8,-8),_(-3.5,-2.5)))))))))),Hn=Ie(P(),(()=>{const t=Ut/10;return _(t,t/2)})());qn(Ne(Dn,Hn));
